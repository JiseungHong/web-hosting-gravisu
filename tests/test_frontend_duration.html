<!DOCTYPE html>
<html>
<head>
    <title>Duration Feature Test</title>
</head>
<body>
    <h1>GRAVISU Duration Feature Test</h1>
    <button onclick="testDurationFormatting()">Test Duration Formatting</button>
    <button onclick="testDurationPopup()">Test Duration Popup</button>
    <div id="results"></div>

    <script>
        // Copy the duration functions from script.js
        function formatDuration(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes} m ${remainingSeconds} s`;
        }

        function showDurationPopup(duration) {
            const formattedDuration = formatDuration(duration);
            alert(`GRAVISU processing completed!\nDuration: ${formattedDuration}`);
        }

        function testDurationFormatting() {
            const testCases = [
                [0, "0 m 0 s"],
                [30, "0 m 30 s"],
                [60, "1 m 0 s"],
                [90, "1 m 30 s"],
                [125, "2 m 5 s"],
                [3661, "61 m 1 s"]
            ];

            let results = "<h3>Duration Formatting Test Results:</h3>";
            let allPassed = true;

            testCases.forEach(([seconds, expected]) => {
                const result = formatDuration(seconds);
                const passed = result === expected;
                allPassed = allPassed && passed;

                results += `<p>${seconds}s → "${result}" (expected: "${expected}")
                           <span style="color: ${passed ? 'green' : 'red'}">
                           ${passed ? '✓ PASS' : '✗ FAIL'}</span></p>`;
            });

            results += `<p><strong>Overall: ${allPassed ? '✓ ALL TESTS PASSED' : '✗ SOME TESTS FAILED'}</strong></p>`;
            document.getElementById('results').innerHTML = results;
        }

        function testDurationPopup() {
            // Test with a sample duration (125.5 seconds = 2m 5s)
            showDurationPopup(125.5);
        }
    </script>
</body>
</html>
